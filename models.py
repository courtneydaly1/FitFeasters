from flask_sqlalchemy import SQLAlchemy
from flask_bcrypt import Bcrypt

DEFAULT_IMAGE_FOOD = "data:image/png;base64,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"
DEFAULT_IMAGE_USER = "data:image/png;base64,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"

bcrypt= Bcrypt()
db = SQLAlchemy()


class User(db.Model):
    """Site user"""
    
    __tablename__= 'users'
    
    id= db.Column(db.Integer, primary_key= True)
    username= db.Column(db.String(20), nullable= False)
    password= db.Column(db.String(150), nullable=False)
    email= db.Column(db.String(50), unique=True, nullable= False)
    first_name= db.Column(db.String(20), nullable=False)
    last_name= db.Column(db.String(20), nullable=False)
    image_url= db.Column(db.Text, default= DEFAULT_IMAGE_USER)
        
    def image_url(self):
        return self.image_url or DEFAULT_IMAGE_USER
    
    
    @classmethod
    def signup(cls, username, password, first_name, last_name, email, image_url):
        """Register new user, and hash their password"""
        
        hashed= bcrypt.generate_password_hash(password)
        hashed_utf8 = hashed.decode('utf8')
        user= cls(
            username=username,
            password=hashed_utf8,
            first_name= first_name,
            last_name=last_name,
            email=email,
            image_url= image_url
        )  
        
        db.session.add(user)
        return user
    
    @classmethod
    def authenticate(cls, username, password):
        """validate a user and make sure their password is correct"""
        
        user= User.query.filter_by(username=username).first()
        
        if user and bcrypt.check_password_hash(user.password, password):
            return user
        else:
            return False
        

class Recipes(db.Model):
    """recipe information"""
    
    __tablename__ = 'recipes'
    
    id= db.Column(db.Integer, primary_key = True)
    recipe_id= db.Column(db.Integer, nullable=False)
    title=db.Column(db.Text, nullable=False)
    image_url=db.Column(db.Text)
    ready_in_minutes= db.Column(db.Integer)
    healthscore= db.Column(db.Integer)
    recipe_instructions= db.Column(db.Text)
    
    def image_url(self):
        return self.image_url or DEFAULT_IMAGE_FOOD

def connect_db(app):
    """connect this db to flask app"""
    
    db.app = app
    db.init_app(app)